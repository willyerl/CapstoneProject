{"ast":null,"code":"import React from \"react\";\nimport axios from \"axios\";\nclass ImageUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this._handleReaderLoaded = async e => {\n      let binaryString = e.target.result;\n      this.setState({\n        base64Data: [btoa(binaryString).toString()]\n      });\n      let photo = await this.base64Data;\n\n      // console.log(this.base64Data)\n      axios.post(`http://localhost:3001/photoToURL?toBase64=${this.base64Data}`).then(function (response) {\n        console.log(this.base64Data);\n        return response.data;\n      }).catch(function (error) {\n        console.log(this.base64Data);\n        console.error(error);\n        return error;\n      });\n      // const options = await {\n      //   method: 'POST',\n      //   url: `https://api.imgbb.com/1/upload?key=198d62c2c2ca10a6d7838497b71d53ba&image=${file}`,\n      // };\n\n      // let response = await axios.request(options)\n      //     .then(function (response) {\n      //         console.log(response)\n      //         return response.data\n      //     }).catch(function (error) {\n      //         console.error(error);\n      //         return error\n      //     });\n    };\n    this.state = {\n      base64Data: ''\n    };\n  }\n  componentDidMount() {\n    // console.log('inside did mount')\n    let file = this.props.data;\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = this._handleReaderLoaded.bind(this);\n      reader.readAsBinaryString(file);\n      // console.log(file)\n    }\n  }\n\n  render() {\n    const {\n      base64Data\n    } = this.state;\n    return base64Data;\n  }\n}\nexport default ImageUpload;","map":{"version":3,"names":["React","axios","ImageUpload","Component","constructor","props","_handleReaderLoaded","e","binaryString","target","result","setState","base64Data","btoa","toString","photo","post","then","response","console","log","data","catch","error","state","componentDidMount","file","reader","FileReader","onload","bind","readAsBinaryString","render"],"sources":["/Users/WillyErlemann/Documents/coding/Capstone-Project/frotEnd/src/components/hooks/imageUpload.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nclass ImageUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      base64Data: ''\n    };\n  }\n\n  componentDidMount() {\n    // console.log('inside did mount')\n    let file = this.props.data;\n\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = this._handleReaderLoaded.bind(this);\n      reader.readAsBinaryString(file);\n      // console.log(file)\n    }\n  };\n\n  _handleReaderLoaded = async e => {\n\n    let binaryString = e.target.result;\n    this.setState({\n      base64Data: [btoa(binaryString).toString()]\n    });\n    let photo = await this.base64Data\n   \n    // console.log(this.base64Data)\n    axios\n      .post(`http://localhost:3001/photoToURL?toBase64=${this.base64Data}`)\n      .then(function (response) {\n        console.log(this.base64Data)\n        return response.data\n      }).catch(function (error) {\n        console.log(this.base64Data)\n        console.error(error);\n        return error\n      });\n    // const options = await {\n    //   method: 'POST',\n    //   url: `https://api.imgbb.com/1/upload?key=198d62c2c2ca10a6d7838497b71d53ba&image=${file}`,\n    // };\n\n    // let response = await axios.request(options)\n    //     .then(function (response) {\n    //         console.log(response)\n    //         return response.data\n    //     }).catch(function (error) {\n    //         console.error(error);\n    //         return error\n    //     });\n  };\n\n  render() {\n    const { base64Data } = this.state;\n    return base64Data\n  }\n}\n\nexport default ImageUpload;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,MAAMC,WAAW,SAASF,KAAK,CAACG,SAAS,CAAC;EACxCC,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAAC,KAkBfC,mBAAmB,GAAG,MAAMC,CAAC,IAAI;MAE/B,IAAIC,YAAY,GAAGD,CAAC,CAACE,MAAM,CAACC,MAAM;MAClC,IAAI,CAACC,QAAQ,CAAC;QACZC,UAAU,EAAE,CAACC,IAAI,CAACL,YAAY,CAAC,CAACM,QAAQ,EAAE;MAC5C,CAAC,CAAC;MACF,IAAIC,KAAK,GAAG,MAAM,IAAI,CAACH,UAAU;;MAEjC;MACAX,KAAK,CACFe,IAAI,CAAE,6CAA4C,IAAI,CAACJ,UAAW,EAAC,CAAC,CACpEK,IAAI,CAAC,UAAUC,QAAQ,EAAE;QACxBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,UAAU,CAAC;QAC5B,OAAOM,QAAQ,CAACG,IAAI;MACtB,CAAC,CAAC,CAACC,KAAK,CAAC,UAAUC,KAAK,EAAE;QACxBJ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,UAAU,CAAC;QAC5BO,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC;QACpB,OAAOA,KAAK;MACd,CAAC,CAAC;MACJ;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;IAjDC,IAAI,CAACC,KAAK,GAAG;MACXZ,UAAU,EAAE;IACd,CAAC;EACH;EAEAa,iBAAiB,GAAG;IAClB;IACA,IAAIC,IAAI,GAAG,IAAI,CAACrB,KAAK,CAACgB,IAAI;IAE1B,IAAIK,IAAI,EAAE;MACR,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,MAAM,GAAG,IAAI,CAACvB,mBAAmB,CAACwB,IAAI,CAAC,IAAI,CAAC;MACnDH,MAAM,CAACI,kBAAkB,CAACL,IAAI,CAAC;MAC/B;IACF;EACF;;EAoCAM,MAAM,GAAG;IACP,MAAM;MAAEpB;IAAW,CAAC,GAAG,IAAI,CAACY,KAAK;IACjC,OAAOZ,UAAU;EACnB;AACF;AAEA,eAAeV,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}